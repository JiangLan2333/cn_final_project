# CN_fianl接口文档

## 1. 基本联通方案

+ 协议：POST
+ 编码：application/json，utf-8

## 2. 接口

接口说明按功能逻辑进行梳理，每部分接口给出POST路径、参数列表及说明、返回值列表及说明、样例数据。

### 2.1 登陆接口

提交用户信息，反馈登陆状态，实现用户登陆功能

#### 2.1.1 函数名

+ POST路径：***/Login***

#### 2.1.2 输入参数

+ 输入数据格式如下：

```
{
	"username":"XXX",
	"passwd":"YYY"
}
```

| key | value type | description |
|---|---|---|
| username | 字符串 | 用户名 |
| passwd | 字符串 | 密码，如果做得精细可以限定密码长度及格式 |

#### 2.1.3 返回值

+ 需返回登陆请求结果信息

```
{
	"status":int
}
```

| key | value type | description |
|---|---|---|
| status | 整型 | 不同的返回值表示不同的请求结果，具体见下表|

***status 取值说明（待补充）***

|status value | description |
|---|---|
| 1 | 成功登陆 |
| 2 | 用户名或密码错误 |
| ... | ... |

#### 2.1.4 样例数据

**参数**
```
{
	"username": "sqsjel@aliyun.com",
	"passwd": "19980315"
}
```

**返回值**
```
{
	"status": 1
}
```

### 2.2 注册接口

提交用户信息，反馈注册状态，实现用户注册功能

#### 2.2.1 函数名

+ POST路径：***/Register***

#### 2.2.2 输入参数

+ 输入数据格式如下：

```
{
	"usernaem":"XXX",
	"passwd":"YYY"
}
```

| key | value type | description |
|---|---|---|
| username | 字符串 | 用户名 |
| passwd | 字符串 | 密码，如果做得精细可以限定密码长度及格式 |

#### 2.2.3 返回值

+ 返回注册请求的结果信息


```
{
	"status":int
}
```

| key | value type | description |
|---|---|---|
| status | 整型 | 不同的返回值表示不同的请求结果，具体见下表|

***status 取值说明（待补充）***

|status value | description |
|---|---|
| 1 | 成功注册 |
| 2 | 该邮箱已被注册 |
| ... | ... |

#### 2.2.4 样例数据

**参数**
```
{
	"username": "sqsjel@aliyun.com",
	"passwd": "19980315"
}
```

**返回值**
```
{
	"status": 2
}
```

### 2.3 用户所有物

按照智能算法的排序顺序展示清单中的所有任务

#### 2.3.1 函数名

 + POST路径：***/ShowList***

#### 2.3.2 输入参数

无

#### 2.3.3 返回值

+ 返回当前用户智能清单中的所有任务

```
{
	"task":
	[
		{
			"priority": int,
			"name": "XXX"
		},
		...
	]
}
```

| key | value type | description |
|---|---|---|
| **task** | 数组 | 所有任务，数组元素是json对象（每一个任务的信息）|
| task.priority | 整型 | 任务优先级，取值范围是[1, n] |
| task.name | 字符串 | 任务名称 |

#### 2.3.4 样例数据

**参数**

略

**返回值**

```
{
	"task":
	[
		{
			"priority": 1,
			"name": "编译原理语法分析实验"
		},
		{
			"priority": 2,
			"name": "三好学生申请填写"
		}
	]
}
```
### 2.4 智能清单添加任务接口

用户提交任务信息给后台，后台创建任务，并计算得出优先级

#### 2.4.1 函数名

+ POST路径：***/CreateTask***

#### 2.4.2 输入参数

+ 输入参数包括计算任务优先级所需要的全部信息，格式如下：

```
{
	"name": "XXX",
	"time_required": float,
	"deadline": datetime,
	"severity": int,
	"description": "YYY",
	"time_invested": float,
	...
}
```

| key | value type | description |
|---|---|---|
| name | 字符串 | 任务名称 |
| time_required | 浮点数 | 预计投入时间，以小时（h）为单位 |
| deadline | 时间 | 任务截止日期 |
| severity | 整型 | 延误后果的严重程度，分为1，2，3三个等级，数字越大越严重 |
| description | 字符串 | 任务描述 |
| time_invested | 浮点数 | 已投入的时间，以小时（h）为单位 |

#### 2.4.3 返回值

无

#### 2.4.4 样例数据

**参数**

```
{
	"name": "计算机网络第七章课后作业",
	"time_required": 3.0,
	"deadline": "2019-04-15",
	"severity": 2,
	"description": "大概有47道题，最好先复习再做题。",
	"time_invested": 1.5
}
```

**返回值**

略

### 2.5 普通清单展示接口

按照创建任务的顺序展示清单中的所有任务

#### 2.5.1 函数名

+ POST路径：***/ShowGenernalList***

#### 2.5.2 输入参数

无

#### 2.5.3 返回值

+ 返回当前用户普通清单中的所有任务

```
{
	"task":
	[
		{
			"name": "XXX",
			"date": time
		},
		...
	]
}

```

|key	|value type	|description|
|---|---|---|
|task	|数组|	所有任务，数组元素是json对象（每一个任务的信息）|
|task.name	|字符串|	任务名称|
|task.date|	时间	|任务时间|

#### 2.5.4 样例数据

**参数**

略

**返回值**
```
{
	"task":
	[
		{
			"name": "编译原理语法分析实验",
			"date": "04-11"
		},
		{
			"name": "三好学生申请填写",
			"date": ""
		}
	]
}

```

### 2.6 普通清单添加任务接口

用户提交任务信息给后台，后台创建任务

#### 2.6.1 函数名

+ POST路径：***/CreateGeneralTask***

#### 2.6.2 输入参数

+ 输入参数包括计算任务的全部或部分信息，格式如下：

```
{
	"name": "XXX",
	"dete": datetime,
	"location":"YYY",
	"description": "ZZZ",
	"remind": bool,
	...
}

```

|key|	value type	|description|
|---|---|---|
|name|	字符串|	任务名称|
|date|	时间|	任务日期|
|location|	字符串|	任务地点|
|description|	字符串|	任务描述|
|remind|	布尔变量|	是否提醒，true为提醒，false为不提醒|

#### 2.6.3 返回值

无

#### 2.6.4 样例数据

**参数**

```
{
	"name": "班会",
	"dete": 04-11,
	"location":"教二楼",
	"description": "记得带电脑",
	"remind": true,
}

```

**返回值**

略

### 2.7 清单展示接口

侧边栏，展示已有的清单列表

#### 2.7.1 函数名

+ POST路径：***/ShowAllList***

#### 2.7.2 输入参数

无

#### 2.7.3 返回值

+ 返回当前用户所有的清单

```
{
	"List":
	[
		{
			"name": "XXX",
			"tasknum": integer,
			"color": integer
		},
		...
	]
}

```

|key	|value type|	description|
|---|---|---|
|List|	清单	|所有清单，数组元素是json对象（每一个清单的信息）|
|List.name|	字符串|	清单名称|
|List.color|	整型	|清单颜色|
|List.tasknum|	整型	清单未完成任务个数|

#### 2.7.4 样例数据

**参数**

略

**返回值**

```
{
	"List":
	[
		{
			"name": "智能清单",
			"tasknum": 2,
			"color": 1
		},
		{
			"name": "班级事务",
			"tasknum": 0,
			"color": 2
		},
		...
	]
}

```

### 2.8 添加清单接口

用户提交清单信息给后台，后台创建清单

#### 2.8.1 函数名

+ POST路径：***/CreateList***

#### 2.8.2 输入参数

+ 输入参数包括计算任务优先级所需要的全部信息，格式如下：

```
{
	"name": "XXX",
	"color": integer,
	"belong": "YYY",
	"nonmart": bool
}
```

#### 2.8.3 返回值

无

#### 2.8.4 样例数据

**参数**

```
{
	"name": "生活琐事",
	"color": 2,
	"belong": "",
	"nonsmart": false
}
```
**返回值**

略

### 2.9 设置页面接口

用户个人信息及偏好设置

#### 2.9.1 函数名

+ POST路径：***/Setting***

#### 2.9.2 输入参数

无

#### 2.9.3 返回值

```
{
	"item":
	[
		{
			"name": "XXX"
		},
		{
			"name": "YYY"			
		},
		...
	]
}

```

#### 样例数据

**参数**

略

**返回值**

```
{
	"item":
	[
		{
			"name": "主题"			
		},
		{
			"name": "更多设置"
		},
		...
	]
}

```